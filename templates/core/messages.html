{% for message in messages %}
    <div id="message-{{ forloop.counter }}"
         class="{% if message.tags == 'success' %}bg-green-100 border-t-4 border-green-500 rounded-b text-green-900{% elif message.tags == 'error' %}bg-red-100 border-t-4 border-red-500 rounded-b text-red-900{% endif %} px-4 py-3 shadow-md mt-2 relative"
         role="alert">
        <div class="flex">
            <div class="py-1">
                <svg class="fill-current h-6 w-6 {% if message.tags == 'success' %}text-green-500{% elif message.tags == 'error' %}text-red-500{% endif %} mr-4"
                     xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    {% if message.tags == 'success' %}
                        <path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/>
                    {% elif message.tags == 'error' %}
                        <path d="M10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 2a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/>
                    {% endif %}
                </svg>
            </div>
            <div>
                {% if message.tags == 'success' %}
                    <p class="font-bold">Success!</p>
                {% elif message.tags == 'error' %}
                    <p class="font-bold">Error!</p>
                {% endif %}
                <p class="text-sm">{{ message }}</p>
            </div>
        </div>
        <!-- Close button -->
        <button onclick="document.getElementById('message-{{ forloop.counter }}').style.display='none'"
                class="absolute top-0 right-0 p-2">
            <svg class="fill-current h-4 w-4 text-black" role="button" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 20 20"><title>Close</title>
                <path d="M14.348 14.849a1 1 0 0 1-1.414 0L10 11.414l-2.934 2.935a1 1 0 0 1-1.414-1.414L8.586 10 5.652 7.065a1 1 0 1 1 1.414-1.414L10 8.586l2.934-2.935a1 1 0 0 1 1.414 1.414L11.414 10l2.934 2.935a1 1 0 0 1 0 1.414z"/>
            </svg>
        </button>
    </div>
    <script>
        setTimeout(function () {
            document.getElementById('message-{{ forloop.counter }}').style.display = 'none';
        }, 5000);
    </script>
{% endfor %}
